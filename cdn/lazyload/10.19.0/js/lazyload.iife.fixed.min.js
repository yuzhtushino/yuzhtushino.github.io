var _extends=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(t[a]=n[a])}return t},LazyLoad=function(){"use strict";var n={elements_selector:"img",container:document,threshold:300,thresholds:null,data_src:"src",data_srcset:"srcset",data_sizes:"sizes",data_bg:"bg",class_loading:"loading",class_loaded:"loaded",class_error:"error",load_delay:0,callback_load:null,callback_error:null,callback_set:null,callback_enter:null,callback_finish:null,to_webp:!1},s="data-",r="was-processed",a="ll-timeout",i="true",c=function(t,e){return t.getAttribute(s+e)},o=function(t,e,n){var a=s+e;null!==n?t.setAttribute(a,n):t.removeAttribute(a)},l=function(t){return c(t,r)===i},u=function(t,e){return o(t,a,e)},d=function(t){return c(t,a)},_=function(t,e){var n,a="LazyLoad::Initialized",s=new t(e);try{n=new CustomEvent(a,{detail:{instance:s}})}catch(t){(n=document.createEvent("CustomEvent")).initCustomEvent(a,!1,!1,{instance:s})}window.dispatchEvent(n)};var t,e,f=function(t,e){return e?t.replace(/\.(jpe?g|png)/gi,".webp"):t},v="undefined"!=typeof window,g=v&&!("onscroll"in window)||/(gle|ing|ro)bot|crawl|spider/i.test(navigator.userAgent),h=v&&"IntersectionObserver"in window,b=v&&"classList"in document.createElement("p"),m=v&&(t="image/webp",!(!(e=document.createElement("canvas")).getContext||!e.getContext("2d"))&&0===e.toDataURL(t).indexOf("data:"+t)),p=function(t,e,n,a){for(var s,r=0;s=t.children[r];r+=1)if("SOURCE"===s.tagName){var i=c(s,n);w(s,e,i,a)}},w=function(t,e,n,a){n&&t.setAttribute(e,f(n,a))},E={IMG:function(t,e){var n=m&&e.to_webp,a=e.data_srcset,s=t.parentNode;s&&"PICTURE"===s.tagName&&p(s,"srcset",a,n);var r=c(t,e.data_sizes);w(t,"sizes",r);var i=c(t,a);w(t,"srcset",i,n);var o=c(t,e.data_src);w(t,"src",o,n)},IFRAME:function(t,e){var n=c(t,e.data_src);w(t,"src",n)},VIDEO:function(t,e){var n=e.data_src,a=c(t,n);p(t,"src",n),w(t,"src",a),t.load()}},y=function(t,e){var n,a,s=e._settings,r=t.tagName,i=E[r];if(i)return i(t,s),e._updateLoadingCount(1),void(e._elements=(n=e._elements,a=t,n.filter(function(t){return t!==a})));!function(t,e){var n=m&&e.to_webp,a=c(t,e.data_src),s=c(t,e.data_bg);if(a){var r=f(a,n);t.style.backgroundImage='url("'+r+'")'}if(s){var i=f(s,n);t.style.backgroundImage=i}}(t,s)},I=function(t,e){b?t.classList.add(e):t.className+=(t.className?" ":"")+e},L=function(t,e){t&&t(e)},C="load",O="loadeddata",k="error",A=function(t,e,n){t.addEventListener(e,n)},N=function(t,e,n){t.removeEventListener(e,n)},x=function(t,e,n){N(t,C,e),N(t,O,e),N(t,k,n)},z=function(t,e,n){var a,s,r=n._settings,i=e?r.class_loaded:r.class_error,o=e?r.callback_load:r.callback_error,c=t.target;a=c,s=r.class_loading,b?a.classList.remove(s):a.className=a.className.replace(new RegExp("(^|\\s+)"+s+"(\\s+|$)")," ").replace(/^\s+/,"").replace(/\s+$/,""),I(c,i),L(o,c),n._updateLoadingCount(-1)},R=function(n,a){var t,e,s,r=function t(e){z(e,!0,a),x(n,t,i)},i=function t(e){z(e,!1,a),x(n,r,t)};s=i,A(t=n,C,e=r),A(t,O,e),A(t,k,s)},M=["IMG","IFRAME","VIDEO"],j=function(t,e,n){T(t,n),e.unobserve(t)},D=function(t){var e=d(t);e&&(clearTimeout(e),u(t,null))};function T(t,e,n){var a=e._settings;!n&&l(t)||(L(a.callback_enter,t),-1<M.indexOf(t.tagName)&&(R(t,e),I(t,a.class_loading)),y(t,e),o(t,r,i),L(a.callback_set,t))}var U=function(t){return t.isIntersecting||0<t.intersectionRatio},F=function(t,e){this._settings=_extends({},n,t),this._setObserver(),this._loadingCount=0,this.update(e)};return F.prototype={_manageIntersection:function(t){var e,n,a,s,r,i=this._observer,o=this._settings.load_delay,c=t.target;o?U(t)?(e=c,n=i,s=(a=this)._settings.load_delay,(r=d(e))||(r=setTimeout(function(){j(e,n,a),D(e)},s),u(e,r))):D(c):U(t)&&j(c,i,this)},_onIntersection:function(t){t.forEach(this._manageIntersection.bind(this))},_setObserver:function(){var t;h&&(this._observer=new IntersectionObserver(this._onIntersection.bind(this),{root:(t=this._settings).container===document?null:t.container,rootMargin:t.thresholds||t.threshold+"px"}))},_updateLoadingCount:function(t){this._loadingCount+=t,0===this._elements.length&&0===this._loadingCount&&L(this._settings.callback_finish)},update:function(t){var e=this,n=this._settings,a=t||n.container.querySelectorAll(n.elements_selector);this._elements=Array.prototype.slice.call(a).filter(function(t){return!l(t)}),!g&&this._observer?this._elements.forEach(function(t){e._observer.observe(t)}):this.loadAll()},destroy:function(){var e=this;this._observer&&(this._elements.forEach(function(t){e._observer.unobserve(t)}),this._observer=null),this._elements=null,this._settings=null},load:function(t,e){T(t,this,e)},loadAll:function(){var e=this;this._elements.forEach(function(t){e.load(t)})}},v&&function(t,e){if(e)if(e.length)for(var n,a=0;n=e[a];a+=1)_(t,n);else _(t,e)}(F,window.lazyLoadOptions),F}();