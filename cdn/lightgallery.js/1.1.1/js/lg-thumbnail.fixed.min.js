"use strict";function _typeof(t){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}!function(t){if("object"===("undefined"==typeof exports?"undefined":_typeof(exports))&&"undefined"!=typeof module)module.exports=t();else if("function"==typeof define&&define.amd)define([],t);else{("undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this).LgThumbnail=t()}}(function(){return function r(s,l,h){function n(o,t){if(!l[o]){if(!s[o]){var e="function"==typeof require&&require;if(!t&&e)return e(o,!0);if(a)return a(o,!0);var i=new Error("Cannot find module '"+o+"'");throw i.code="MODULE_NOT_FOUND",i}var u=l[o]={exports:{}};s[o][0].call(u.exports,function(t){var e=s[o][1][t];return n(e||t)},u,u.exports,r,s,l,h)}return l[o].exports}for(var a="function"==typeof require&&require,t=0;t<h.length;t++)n(h[t]);return n}({1:[function(t,e,o){!function(t,e){if(void 0!==o)e();else{e(),t.lgThumbnail={}}}(this,function(){var e=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var o=arguments[e];for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(t[i]=o[i])}return t},o={thumbnail:!0,animateThumb:!0,currentPagerPosition:"middle",thumbWidth:100,thumbContHeight:100,thumbMargin:5,exThumbImage:!1,showThumbByDefault:!0,toggleThumb:!0,pullCaptionUp:!0,enableThumbDrag:!0,enableThumbSwipe:!0,swipeThreshold:50,loadYoutubeThumbnail:!0,youtubeThumbSize:1,loadVimeoThumbnail:!0,vimeoThumbSize:"thumbnail_small",loadDailymotionThumbnail:!0},t=function(t){return this.el=t,this.core=window.lgData[this.el.getAttribute("lg-uid")],this.core.s=e({},o,this.core.s),this.thumbOuter=null,this.thumbOuterWidth=0,this.thumbTotalWidth=this.core.items.length*(this.core.s.thumbWidth+this.core.s.thumbMargin),this.thumbIndex=this.core.index,this.left=0,this.init(),this};t.prototype.init=function(){var t=this;this.core.s.thumbnail&&1<this.core.items.length&&(this.core.s.showThumbByDefault&&setTimeout(function(){utils.addClass(t.core.outer,"lg-thumb-open")},700),this.core.s.pullCaptionUp&&utils.addClass(this.core.outer,"lg-pull-caption-up"),this.build(),this.core.s.animateThumb?(this.core.s.enableThumbDrag&&!this.core.isTouch&&this.core.doCss()&&this.enableThumbDrag(),this.core.s.enableThumbSwipe&&this.core.isTouch&&this.core.doCss()&&this.enableThumbSwipe(),this.thumbClickable=!1):this.thumbClickable=!0,this.toggle(),this.thumbkeyPress())},t.prototype.build=function(){var u,s=this,l="",h="";switch(this.core.s.vimeoThumbSize){case"thumbnail_large":h="640";break;case"thumbnail_medium":h="200x150";break;case"thumbnail_small":h="100x75"}function t(t,e,o){var i,u=s.core.isVideo(t,o)||{},r="";u.youtube||u.vimeo||u.dailymotion?u.youtube?i=s.core.s.loadYoutubeThumbnail?"//img.youtube.com/vi/"+u.youtube[1]+"/"+s.core.s.youtubeThumbSize+".jpg":e:u.vimeo?s.core.s.loadVimeoThumbnail?(i="//i.vimeocdn.com/video/error_"+h+".jpg",r=u.vimeo[1]):i=e:u.dailymotion&&(i=s.core.s.loadDailymotionThumbnail?"//www.dailymotion.com/thumbnail/video/"+u.dailymotion[1]:e):i=e,l+='<div data-vimeo-id="'+r+'" class="lg-thumb-item" style="width:'+s.core.s.thumbWidth+"px; margin-right: "+s.core.s.thumbMargin+'px"><img src="'+i+'" /></div>',r=""}if(utils.addClass(s.core.outer,"lg-has-thumb"),s.core.outer.querySelector(".lg").insertAdjacentHTML("beforeend",'<div class="lg-thumb-outer"><div class="lg-thumb group"></div></div>'),s.thumbOuter=s.core.outer.querySelector(".lg-thumb-outer"),s.thumbOuterWidth=s.thumbOuter.offsetWidth,s.core.s.animateThumb&&(s.core.outer.querySelector(".lg-thumb").style.width=s.thumbTotalWidth+"px",s.core.outer.querySelector(".lg-thumb").style.position="relative"),this.core.s.animateThumb&&(s.thumbOuter.style.height=s.core.s.thumbContHeight+"px"),s.core.s.dynamic)for(var e=0;e<s.core.s.dynamicEl.length;e++)t(s.core.s.dynamicEl[e].src,s.core.s.dynamicEl[e].thumb,e);else for(var o=0;o<s.core.items.length;o++)s.core.s.exThumbImage?t(s.core.items[o].getAttribute("href")||s.core.items[o].getAttribute("data-src"),s.core.items[o].getAttribute(s.core.s.exThumbImage),o):t(s.core.items[o].getAttribute("href")||s.core.items[o].getAttribute("data-src"),s.core.items[o].querySelector("img").getAttribute("src"),o);s.core.outer.querySelector(".lg-thumb").innerHTML=l,u=s.core.outer.querySelectorAll(".lg-thumb-item");for(var r=0;r<u.length;r++)!function(t){var e=u[r],o=e.getAttribute("data-vimeo-id");if(o){window["lgJsonP"+s.el.getAttribute("lg-uid")+r]=function(t){e.querySelector("img").setAttribute("src",t[0][s.core.s.vimeoThumbSize])};var i=document.createElement("script");i.className="lg-script",i.src="//www.vimeo.com/api/v2/video/"+o+".json?callback=lgJsonP"+s.el.getAttribute("lg-uid")+r,document.body.appendChild(i)}}();utils.addClass(u[s.core.index],"active"),utils.on(s.core.el,"onBeforeSlide.lgtm",function(){for(var t=0;t<u.length;t++)utils.removeClass(u[t],"active");utils.addClass(u[s.core.index],"active")});for(var i=0;i<u.length;i++)!function(t){utils.on(u[t],"click.lg touchend.lg",function(){setTimeout(function(){(s.thumbClickable&&!s.core.lgBusy||!s.core.doCss())&&(s.core.index=t,s.core.slide(s.core.index,!1,!0))},50)})}(i);utils.on(s.core.el,"onBeforeSlide.lgtm",function(){s.animateThumb(s.core.index)}),utils.on(window,"resize.lgthumb orientationchange.lgthumb",function(){setTimeout(function(){s.animateThumb(s.core.index),s.thumbOuterWidth=s.thumbOuter.offsetWidth},200)})},t.prototype.setTranslate=function(t){utils.setVendor(this.core.outer.querySelector(".lg-thumb"),"Transform","translate3d(-"+t+"px, 0px, 0px)")},t.prototype.animateThumb=function(t){var e=this.core.outer.querySelector(".lg-thumb");if(this.core.s.animateThumb){var o;switch(this.core.s.currentPagerPosition){case"left":o=0;break;case"middle":o=this.thumbOuterWidth/2-this.core.s.thumbWidth/2;break;case"right":o=this.thumbOuterWidth-this.core.s.thumbWidth}this.left=(this.core.s.thumbWidth+this.core.s.thumbMargin)*t-1-o,this.left>this.thumbTotalWidth-this.thumbOuterWidth&&(this.left=this.thumbTotalWidth-this.thumbOuterWidth),this.left<0&&(this.left=0),this.core.lGalleryOn&&(utils.hasClass(e,"on")||utils.setVendor(this.core.outer.querySelector(".lg-thumb"),"TransitionDuration",this.core.s.speed+"ms")),this.core.doCss()||(e.style.left=-this.left+"px"),this.setTranslate(this.left)}},t.prototype.enableThumbDrag=function(){var e=this,o=0,i=0,u=!1,r=!1,s=0;utils.addClass(e.thumbOuter,"lg-grab"),utils.on(e.core.outer.querySelector(".lg-thumb"),"mousedown.lgthumb",function(t){e.thumbTotalWidth>e.thumbOuterWidth&&(t.preventDefault(),o=t.pageX,u=!0,e.core.outer.scrollLeft+=1,e.core.outer.scrollLeft-=1,e.thumbClickable=!1,utils.removeClass(e.thumbOuter,"lg-grab"),utils.addClass(e.thumbOuter,"lg-grabbing"))}),utils.on(window,"mousemove.lgthumb",function(t){u&&(s=e.left,r=!0,i=t.pageX,utils.addClass(e.thumbOuter,"lg-dragging"),(s-=i-o)>e.thumbTotalWidth-e.thumbOuterWidth&&(s=e.thumbTotalWidth-e.thumbOuterWidth),s<0&&(s=0),e.setTranslate(s))}),utils.on(window,"mouseup.lgthumb",function(){r?(r=!1,utils.removeClass(e.thumbOuter,"lg-dragging"),e.left=s,Math.abs(i-o)<e.core.s.swipeThreshold&&(e.thumbClickable=!0)):e.thumbClickable=!0,u&&(u=!1,utils.removeClass(e.thumbOuter,"lg-grabbing"),utils.addClass(e.thumbOuter,"lg-grab"))})},t.prototype.enableThumbSwipe=function(){var e=this,o=0,i=0,u=!1,r=0;utils.on(e.core.outer.querySelector(".lg-thumb"),"touchstart.lg",function(t){e.thumbTotalWidth>e.thumbOuterWidth&&(t.preventDefault(),o=t.targetTouches[0].pageX,e.thumbClickable=!1)}),utils.on(e.core.outer.querySelector(".lg-thumb"),"touchmove.lg",function(t){e.thumbTotalWidth>e.thumbOuterWidth&&(t.preventDefault(),i=t.targetTouches[0].pageX,u=!0,utils.addClass(e.thumbOuter,"lg-dragging"),r=e.left,(r-=i-o)>e.thumbTotalWidth-e.thumbOuterWidth&&(r=e.thumbTotalWidth-e.thumbOuterWidth),r<0&&(r=0),e.setTranslate(r))}),utils.on(e.core.outer.querySelector(".lg-thumb"),"touchend.lg",function(){e.thumbTotalWidth>e.thumbOuterWidth&&u?(u=!1,utils.removeClass(e.thumbOuter,"lg-dragging"),Math.abs(i-o)<e.core.s.swipeThreshold&&(e.thumbClickable=!0),e.left=r):e.thumbClickable=!0})},t.prototype.toggle=function(){var t=this;t.core.s.toggleThumb&&(utils.addClass(t.core.outer,"lg-can-toggle"),t.thumbOuter.insertAdjacentHTML("beforeend",'<span class="lg-toggle-thumb lg-icon"></span>'),utils.on(t.core.outer.querySelector(".lg-toggle-thumb"),"click.lg",function(){utils.hasClass(t.core.outer,"lg-thumb-open")?utils.removeClass(t.core.outer,"lg-thumb-open"):utils.addClass(t.core.outer,"lg-thumb-open")}))},t.prototype.thumbkeyPress=function(){var e=this;utils.on(window,"keydown.lgthumb",function(t){38===t.keyCode?(t.preventDefault(),utils.addClass(e.core.outer,"lg-thumb-open")):40===t.keyCode&&(t.preventDefault(),utils.removeClass(e.core.outer,"lg-thumb-open"))})},t.prototype.destroy=function(){if(this.core.s.thumbnail&&1<this.core.items.length){utils.off(window,".lgthumb"),this.thumbOuter.parentNode&&this.thumbOuter.parentNode.removeChild(this.thumbOuter),utils.removeClass(this.core.outer,"lg-has-thumb");for(var t=document.getElementsByClassName("lg-script");t[0];)t[0].parentNode.removeChild(t[0])}},window.lgModules.thumbnail=t})},{}]},{},[1])(1)});
//# sourceMappingURL=lg-thumbnail.fixed.min.js.map
